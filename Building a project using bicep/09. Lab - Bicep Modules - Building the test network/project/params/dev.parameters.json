{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {    
    "lbName": { "value": "ilb-dev-eus-01" },
    "location": { "value": "eastus" },
    "bastion": {
  "value": {
    "name": "bas-dev-eus-01",
    "pipName": "pip-bas-dev-eus-01",
    "scaleUnits": 2
  }
},
    "winWebAdminPassword": {
  "reference": {
    "keyVault": {
      "id": "/subscriptions/8180ff9b-39fc-42bf-9a0e-089b5d55027d/resourceGroups/app-grp/providers/Microsoft.KeyVault/vaults/cloudvault4000"
    },
    "secretName": "win-web-admin-password"
  }
},
"linuxWebAdminPassword": {
  "reference": {
    "keyVault": {
      "id": "/subscriptions/8180ff9b-39fc-42bf-9a0e-089b5d55027d/resourceGroups/app-grp/providers/Microsoft.KeyVault/vaults/cloudvault4000"
    },
    "secretName": "linux-web-admin-password"
  }
},
    "winWebConfig": {
  "value": {
    "scriptUri": "https://stcloudhublearningdeveus.blob.core.windows.net/scripts/setup-iis.ps1?sp=r&st=2025-10-09T09:06:24Z&se=2025-10-09T17:21:24Z&spr=https&sv=2024-11-04&sr=b&sig=MWYVrBxaruTr%2BZNJ4I%2BrdU3V%2FHIsUGICiMwq1tLLcRM%3D",
    "baseName": "vm-dev-web",
    "vmSize": "Standard_D2s_v3",
    "subnetName": "snet-dev-eus-web-01",
    "count": 2,
    "adminUsername": "azureadmin"
  }},
  "linuxWebConfig": {
  "value": {
    "baseName": "test-app",
    "vmSize": "Standard_B1s",
    "count": 1,
    "adminUsername": "linuxadmin"    
  }},
    "vnet": {
      "value": {
        "name": "vnet-dev-eus-01",
        "addressPrefixes": ["10.0.0.0/16"],
        "subnets": [
          { "name": "snet-dev-eus-web-01", "prefix": "10.0.0.0/24" },
          { "name": "snet-dev-eus-db-01",  "prefix": "10.0.1.0/24" },
          { "name": "AzureBastionSubnet", "prefix": "10.0.2.0/26"}
        ]
      }
    },
    "testvnet": {
      "value": {
        "name": "vnet-test-eus",
        "addressPrefixes": ["10.1.0.0/16"],
        "subnets": [
          { "name": "snet-test-eus-app", "prefix": "10.1.0.0/24" }
        ]
      }
    },
    "storageAccountName": { "value": "stcloudhublearningdeveus" },
    "nsg": {
  "value": {
    "name": "nsg-az104-shared-eus-01",
    "rules": [
      {
        "name": "in-allow-rdp-admin",
        "properties": {
          "description": "Allow RDP for admin access.",
          "protocol": "Tcp",
          "sourcePortRange": "*",
          "destinationPortRange": "3389",
          "sourceAddressPrefix": "*",
          "destinationAddressPrefix": "*",
          "access": "Allow",
          "priority": 400,
          "direction": "Inbound"
        }
      },
      {
        "name": "in-allow-http-from-internet-to-10-0-0-4",
        "properties": {
          "description": "Allow HTTP from the Internet service tag to 10.0.0.4.",
          "protocol": "Tcp",
          "sourcePortRange": "*",
          "destinationPortRange": "80",
          "sourceAddressPrefix": "Internet",
          "destinationAddressPrefix": "10.0.0.4",
          "access": "Allow",
          "priority": 410,
          "direction": "Inbound"
        }
      }
    ]
  }
}
    
}}
